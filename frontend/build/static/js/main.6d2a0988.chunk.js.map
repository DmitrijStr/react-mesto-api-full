{"version":3,"sources":["images/logo.svg","contexts/CurrentUserContext.js","components/NavBar.js","components/Header.js","images/plus.svg","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/Register.js","components/Login.js","auth.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","components/App.js","serviceWorker.js","index.js"],"names":["CurrentUserContext","React","createContext","NavBar","email","logout","currentUser","useContext","className","onClick","Header","loggedIn","userData","currentPath","useLocation","console","log","href","src","logoPath","alt","to","pathname","Card","card","link","name","likes","onCardClick","onCardDelete","onCardLike","onCardDislike","isOwnCard","owner","_id","isLiked","some","i","cardLikeButtonClassName","classNames","type","style","backgroundImage","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","plusButtonPath","map","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","onSubmit","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","required","minLength","maxLength","autoComplete","defaultValue","onChange","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","placeLink","setPlaceLink","placeName","setPlaceName","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","then","result","fetch","_getResponseData","authorization","Register","handleRegister","password","data","setData","handleChange","Login","handleLogin","BASE_URL","window","location","protocol","process","checkResponse","ProtectedRoute","Component","component","props","InfoTooltip","renderState","open","success","successImg","failImg","message","App","setLoggedIn","history","useHistory","token","setToken","_","tokenCheck","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isCardPopupOpen","setCardPopupOpen","setcurrentUser","getCards","Boolean","infoTooltipState","setInfoTooltipState","getCardsState","getInitialCards","items","el","catch","err","closeAllPopups","jwt","localStorage","getItem","getContent","push","removeItem","error","Provider","exact","path","body","JSON","stringify","authorize","setItem","register","deleteCard","filter","putLike","newCard","newCards","c","removeLike","newData","patchUserInfo","newAvatar","patchAvatar","postCard","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6d2a0988.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nconst NavBar = ({ email, logout }) => {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\treturn (\n\t\t<div className=\"navbar\">\n\t\t\t<p className=\"navbar__email\">{currentUser.email}</p>\n\t\t\t<button className=\"navbar__logout-button\" onClick={logout}>Выйти</button>\n\t\t</div>\n\t)\n}\n\nexport default NavBar;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\nimport NavBar from './NavBar';\n\nfunction Header({ loggedIn, userData, logout }) {\n\n\tconst currentPath = useLocation();\n\tconsole.log(currentPath)\n\n\treturn (\n\t\t<header className=\"header\">\n\t\t\t<a href='/'><img className=\"header__logo\" src={logoPath} alt='изображение логотипа' /></a>\n\t\t\t{loggedIn\n\t\t\t\t? <NavBar {...userData} logout={logout}/>\n\t\t\t\t: <Link to={currentPath.pathname === '/sign-in' ? '/sign-up' : '/sign-in'} className=\"link header__link\">{currentPath.pathname === '/sign-in' ? 'Регистрация' : 'Войти'}</Link>\n\t\t\t}\n\t\t</header>\n\t);\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/plus.d86bb2ed.svg\";","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport classNames from 'classnames'\n\nfunction Card({ card, link, name, likes, onCardClick, onCardDelete, onCardLike, onCardDislike }) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst isOwnCard = card.owner === currentUser._id;\n\tconst isLiked = card.likes.some(i => i === currentUser._id);\n\tconst cardLikeButtonClassName = classNames('photo-grid__like-button', 'hover-button', {\n\t\t'photo-grid__like-button_type_active': isLiked\n\t});\n\n\tfunction handleClick() {\n\t\tonCardClick(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tonCardDelete(card._id);\n\t}\n\n\tfunction handleCardLike() {\n\t\tonCardLike(card._id);\n\t}\n\n\tfunction handleCardDislike() {\n\t\tonCardDislike(card._id);\n\t}\n\n\treturn (\n\t\t<div className=\"photo-grid__item\">\n\t\t\t{isOwnCard && <button type=\"button\" className='photo-grid__trash-button hover-button' onClick={handleDeleteClick}></button>}\n\t\t\t<div style={{ backgroundImage: `url(${link})` }} className=\"photo-grid__image photo-grid__image-button hover-button\" type='button' onClick={handleClick}></div>\n\t\t\t<div className=\"photo-grid__description\">\n\t\t\t\t<h2 className=\"photo-grid__place\">{name}</h2>\n\t\t\t\t<div className=\"photo-grid__like-wrapper\">\n\t\t\t\t\t<button className={cardLikeButtonClassName} type=\"button\" onClick={isLiked ? handleCardDislike : handleCardLike}></button>\n\t\t\t\t\t<p className=\"photo-grid__likes-count\">{likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Card;","import React from 'react';\nimport plusButtonPath from '../images/plus.svg';\n// import api from '../utils/Api'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardDelete, onCardLike, onCardDislike }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__infos\">\n          <figure className=\"profile__avatar-wrapper\" onClick={onEditAvatar}>\n            <div style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__avatar\" src=\"#\" alt=\"изображение аватара\">\n            </div>\n          </figure>\n          <div className=\"profile__description\">\n            <div className='profile__info'>\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__button profile__button_action_edit hover-button\" type=\"button\" onClick={onEditProfile}></button>\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"profile__button profile__button_action_add hover-button\" type=\"button\" onClick={onAddPlace}>\n          <img src={plusButtonPath} alt='изображение кнопки добавить' />\n        </button>\n      </section>\n      <section className=\"photo-grid\">\n        {cards.map((card) => (\n          <Card key={card._id} {...card} onCardClick={onCardClick} card={card} onCardDelete={onCardDelete} onCardLike={onCardLike} onCardDislike={onCardDislike}/>\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n\treturn (\n\t\t<footer className=\"footer\">\n\t\t\t<h3 className=\"footer__copyright\">© 2020 Mesto Russia</h3>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n\n\treturn (\n\t\t<section className={`pop-up popup_type_image ${isOpen && 'pop-up_type_opened'}`}>\n\t\t\t<div className=\"pop-up__content\">\n\t\t\t\t<div className=\"pop-up__image-contnaiter\">\n\t\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_deny hover-button\" type=\"button\" onClick={onClose}>\n\t\t\t\t\t</button>\n\t\t\t\t\t<img className=\"pop-up__image\" src={card.link} alt='изображение' />\n\t\t\t\t\t<p className='pop-up__image-name'>{card.name}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nexport default ImagePopup;\n\n","import React from 'react';\n\nfunction PopupWithForm({ name, isOpen, onClose, title, children, onSubmit }) {\n\n\treturn (\n\t\t<section className={`pop-up popup_type_${name} ${isOpen && 'pop-up_type_opened'}`} >\n\t\t\t<div className=\"pop-up__container\">\n\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_deny hover-button\" type=\"button\" onClick={onClose}>\n\t\t\t\t</button>\n\t\t\t\t<p className=\"pop-up__title\">{title}</p>\n\t\t\t\t<form className=\"pop-up__input pop-up__form\" method=\"GET\" noValidate onSubmit={onSubmit}>\n\t\t\t\t\t{children}\n\t\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_save\" type=\"submit\">\n\t\t\t\t\t\tСохранить\n\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t)\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n\tconst [name, setName] = React.useState(\"\")\n\tconst [description, setDescription] = React.useState(\"\")\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\tReact.useEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t}, [currentUser]);\n\n\tfunction handleNameChange(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\tfunction handleDiscriptionChange(e) {\n\t\tsetDescription(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='edit' title='Редактировать профиль' onSubmit={handleSubmit}>\n\t\t\t<input id='name-input' type=\"text\" className=\"pop-up__input pop-up__text\" name=\"name\" required minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" defaultValue={name} onChange={handleNameChange} />\n\t\t\t<span id=\"name-input-error\" className=\"\"></span>\n\t\t\t<input id='profession-input' type=\"text\" className=\"pop-up__input pop-up__text \" name=\"about\"\n\t\t\t\trequired minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" defaultValue={description} onChange={handleDiscriptionChange} />\n\t\t\t<span id=\"profession-input-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\tconst avatarRef = React.useRef('');\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonUpdateAvatar({\n\t\t\tavatar: avatarRef.current.value\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='edit-avatar' title='Обновить аватар' onSubmit={handleSubmit}>\n\t\t\t<input id='avatar-input' type=\"url\" className=\"pop-up__text pop-up__text_type_place\" placeholder=\"ссылка\"\n\t\t\t\tname=\"avatar\" required ref={avatarRef} defaultValue='' />\n\t\t\t<span id=\"place-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\tconst [placeLink, setPlaceLink] = React.useState('')\n\tconst [placeName, setPlaceName] = React.useState('')\n\n\tfunction handlePlaceNameChange(e) {\n\t\tsetPlaceName(e.target.value);\n\t}\n\n\tfunction handlePlaceLinkChange(e) {\n\t\tsetPlaceLink(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonAddPlace({\n\t\t\tname: placeName,\n\t\t\tlink: placeLink\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm isOpen={isOpen} onClose={onClose} name='new-card' title='Новое место' onSubmit={handleSubmit}>\n\t\t\t<input id='place' type=\"text\" className=\"pop-up__text pop-up__text_type_place\" placeholder=\"Название\"\n\t\t\t\tname=\"name\" required minLength=\"1\" maxLength=\"30\" onChange={handlePlaceNameChange} value={placeName} />\n\t\t\t<span id=\"place-error\" className=\"\"></span>\n\t\t\t<input id='url' type=\"url\" className=\"pop-up__text pop-up__text_type_link\" placeholder=\"Ссылка на картинку\"\n\t\t\t\tname='link' required onChange={handlePlaceLinkChange} value={placeLink} />\n\t\t\t<span id=\"url-error\" className=\"\"></span>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default AddPlacePopup;\n\n\n\n\n","class Api {\n\tconstructor(options) {\n\t\tthis._baseUrl = options.baseUrl;\n\t\tthis._headers = options.headers;\n\t}\n\n\t_getResponseData(res) {\n\t\tif (res.ok) {\n\t\t\treturn res.json();\n\t\t}\n\t\treturn Promise.reject(new Error(`Ошибка: ${res.status}`))\n\t\t\t.then((result) => {\n\t\t\t\treturn result\n\t\t\t})\n\t}\n\n\t// getInitialCards() {\n\t// \treturn fetch(`${this._baseUrl}/cards`, {\n\t// \t\theaders: this._headers\n\t// \t}).then(this._getResponseData)\n\t// }\n\n\t// getUserInfo() {\n\t// \treturn fetch(`${this._baseUrl}/users/me`, {\n\t// \t\theaders: this._headers\n\t// \t})\n\t// \t.then(this._getResponseData)\n\t// }\n\n\t// postCard(newCard) {\n\t// \treturn fetch(`${this._baseUrl}/cards`, {\n\t// \t\tmethod: 'POST',\n\t// \t\theaders: this._headers,\n\t// \t\tbody: JSON.stringify({\n\t// \t\t\tname: newCard.name,\n\t// \t\t\tlink: newCard.link\n\t// \t\t})\n\t// \t}).then(this._getResponseData)\n\t// }\n\n\tdeleteCard(id) {\n\t\treturn fetch(`${this._baseUrl}/cards/${id}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: this._headers\n\t\t}).then(this._getResponseData)\n\t}\n\n\t// patchUserInfo(newData) {\n\t// \treturn fetch(`${this._baseUrl}/users/me/`, {\n\t// \t\tmethod: 'PATCH',\n\t// \t\theaders: this._headers,\n\t// \t\tbody: JSON.stringify({\n\t// \t\t\tname: newData.name,\n\t// \t\t\tabout: newData.about\n\t// \t\t})\n\t// \t}).then(this._getResponseData)\n\t// }\n\n\t// patchAvatar(newData) {\n\t// \treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t// \t\tmethod: 'PATCH',\n\t// \t\theaders: this._headers,\n\t// \t\tbody: JSON.stringify({\n\t// \t\t\tavatar: newData.avatar\n\t// \t\t})\n\t// \t}).then(this._getResponseData)\n\t// }\n\n\t// putLike(id) {\n\t// \treturn fetch(`${this._baseUrl}/cards/likes/${id}`, {\n\t// \t\tmethod: 'PUT',\n\t// \t\theaders: this._headers\n\t// \t})\n\t// \t\t.then(this._getResponseData)\n\t// }\n\n\t// removeLike(id) {\n\t// \treturn fetch(`${this._baseUrl}/cards/likes/${id}`, {\n\t// \t\tmethod: 'DELETE',\n\t// \t\theaders: this._headers\n\t// \t})\n\t// \t\t.then(this._getResponseData)\n\t// }\n\n\t// register(email, password) {\n\t// \treturn fetch(`${this._baseUrl}/signup`, {\n\t// \t\tmethod: 'POST',\n\t// \t\theaders: {\n\t// \t\t\t\"Content-Type\": \"application/json\"\n\t// \t\t},\n\t// \t\tbody: JSON.stringify({ \n\t// \t\t\temail, password})\n\t// \t})\n\t// \t\t.then(this._getResponseData)\n\t// }\n}\n\nconst api = new Api({\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15',\n\theaders: {\n\t\tauthorization: 'bfb56561-5ac4-4046-893e-dcc4ab3eace0',\n\t\t'Content-Type': 'application/json'\n\t}\n});\n\nexport default api\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom';\n\nconst Register = ({ handleRegister }) => {\n\n\tconst [data, setData] = useState({\n\t\temail: '',\n\t\tpassword: ''\n\t})\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tlet { email, password } = data;\n\t\thandleRegister(email, password)\n\t}\n\n\treturn (\n\t\t<div className=\"register\">\n\t\t\t<p className=\"register__title\">Регистрация</p>\n\t\t\t<form className=\"form register__form\" onSubmit={handleSubmit}>\n\t\t\t\t<input id=\"email\" className=\"input register__input\" placeholder=\"Email\" type=\"email\" name=\"email\" value={data.email} onChange={handleChange} />\n\t\t\t\t<input id=\"password\" className=\"input register__input\" placeholder=\"Пароль\" type=\"password\" name=\"password\" value={data.password} onChange={handleChange} />\n\t\t\t\t<button className=\"button hover-button register__button\" type=\"submit\" >Зарегистрироваться</button>\n\t\t\t</form>\n\t\t\t<Link to=\"sign-in\" className=\"link register__link\">Уже зарегистрированы? Войти</Link>\n\t\t</div>\n\t)\n}\n\nexport default Register;\n","import React, { useState } from 'react'\n\nconst Login = ({ handleLogin }) => {\n\n\tconst [data, setData] = useState({\n\t\temail: '',\n\t\tpassword: ''\n\t})\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetData({\n\t\t\t...data,\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tlet { email, password } = data;\n\t\thandleLogin(email, password)\n\t}\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<p className=\"login__title\">Вход</p>\n\t\t\t<form className=\"form login__form\" onSubmit={handleSubmit}>\n\t\t\t\t<input id=\"email\" className=\"input login__input\" placeholder=\"Email\" type=\"email\" name=\"email\" value={data.email} onChange={handleChange} />\n\t\t\t\t<input id=\"password\" className=\"input login__input\" placeholder=\"Пароль\" type=\"password\" name=\"password\" value={data.password} onChange={handleChange} />\n\t\t\t\t<button className=\"button hover-button login__button\" type=\"submit\" >Войти</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Login;","export const BASE_URL = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3008'}`;\n\nconst checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n\nconst register = (email, password) => {\n\treturn fetch(`${BASE_URL}/signup`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail, password\n\t\t})\n\t})\n\t\t.then(checkResponse)\n}\n\nconst authorize = (email, password) => {\n\treturn fetch(`${BASE_URL}/signin`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify({ password, email })\n\t})\n\t\t.then(checkResponse)\n}\n\nconst getContent = (token) => {\n\treturn fetch(`${BASE_URL}/users/me`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(checkResponse)\n}\n\nconst getInitialCards = (token) => {\n\treturn fetch(`${BASE_URL}/cards`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t}\n\t}).then(checkResponse)\n}\n\nconst postCard = (token, newCard) => {\n\treturn fetch(`${BASE_URL}/cards`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: newCard.name,\n\t\t\tlink: newCard.link\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst patchUserInfo = (token, newData) => {\n\treturn fetch(`${BASE_URL}/users/me/`, {\n\t\tmethod: 'PATCH',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: newData.name,\n\t\t\tabout: newData.about\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst patchAvatar = (token, newData) => {\n\treturn fetch(`${BASE_URL}/users/me/avatar`, {\n\t\tmethod: 'PATCH',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tavatar: newData.avatar\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst putLike = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/likes/${id}`, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\nconst removeLike = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/likes/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\nconst deleteCard = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\n\nexport { register, authorize, getContent, getInitialCards, postCard, patchUserInfo, patchAvatar, putLike, removeLike, deleteCard };","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport successImg from '../images/success.svg';\nimport failImg from '../images/fail.svg';\n\nconst InfoTooltip = ({ onClose, renderState }) => {\n\n\treturn (\n\t\t<section className={`pop-up popup_type_info ${renderState.open && 'pop-up_type_opened'}`} >\n\t\t\t<div className=\"pop-up__container\">\n\t\t\t\t<button className=\"pop-up__btn pop-up__btn_action_deny hover-button\" type=\"button\" onClick={onClose}>\n\t\t\t\t</button>\n\t\t\t\t<img className=\"pop-up__info-img\" src={renderState.success === true ? successImg : failImg} alt={renderState.message} />\n\t\t\t\t<p className=\"pop-up__title\">{renderState.message}</p>\n\t\t\t</div>\n\n\n\t\t</section>\n\n\n\t)\n}\n\nexport default InfoTooltip;","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/Api'\nimport Register from './Register';\nimport Login from './Login';\nimport { register, authorize, getContent, getInitialCards, postCard, patchUserInfo, patchAvatar, putLike, removeLike, deleteCard } from '../auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const history = useHistory();\n  const [token, setToken] = useState('')\n\n  useEffect(_ => {\n    tokenCheck()\n  }, [])\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isCardPopupOpen, setCardPopupOpen] = useState(false)\n  const [currentUser, setcurrentUser] = useState({})\n  const [cards, getCards] = useState([])\n  const [infoTooltipState, setInfoTooltipState] = useState({\n    message: '',\n    success: Boolean,\n    open: false\n  });\n\n\n  const getCardsState = (token) => {\n    getInitialCards(token)\n      .then((data) => {\n        const items = data.map((el) => ({\n          _id: el._id,\n          name: el.name,\n          link: el.link,\n          likes: el.likes,\n          owner: el.owner\n        }))\n        getCards(items);\n      })\n      .catch(err => console.log(err))\n  }\n\n  // useEffect(() => {\n  //   api.getInitialCards()\n  //     .then((data) => {\n  //       const items = data.map((el) => ({\n  //         _id: el._id,\n  //         name: el.name,\n  //         link: el.link,\n  //         likes: el.likes,\n  //         owner: el.owner\n  //       }))\n  //       getCards(items);\n  //     })\n  //     .catch(err => console.log(err))\n  // }, [])\n\n  function handleCardClick(card) {\n    setCardPopupOpen(true)\n    setSelectedCard(card)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setCardPopupOpen(false)\n    setInfoTooltipState({\n      open: false\n    })\n  }\n\n  function handleCardDelete(id) {\n    deleteCard(token, id)\n      .then(() => {\n        getCards(cards.filter(card => card._id !== id))\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardDislike(id) {\n    removeLike(token, id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === id ? newCard : c);\n        getCards(newCards);\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleCardLike(id) {\n    putLike(token, id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === id ? newCard : c);\n        getCards(newCards);\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateUser(newData) {\n    patchUserInfo(token, newData)\n      .then((data) => {\n        console.log(data)\n        setcurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(newAvatar) {\n    patchAvatar(token, newAvatar)\n      .then((data) => {\n        console.log(data)\n        setcurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    postCard(token, newCard)\n      .then((data) => {\n        console.log(data)\n        getCards([...cards, data]);\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  const handleLogin = (email, password) => {\n    authorize(email, password)\n      .then(data => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token)\n          tokenCheck()\n        }\n      })\n      .catch(err => console.error(err))\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setcurrentUser({})\n    setLoggedIn(false)\n    setToken(null)\n  }\n\n  const handleRegister = (email, password) => {\n    register(email, password)\n      .then(data => {\n        console.log(data)\n        if (data.data._id) {\n          setInfoTooltipState({\n            message: 'Вы успешно зарегистрировались!',\n            success: true,\n            open: true\n          })\n          history.push('/sign-in')\n        }\n      })\n      .catch(err => {\n        console.log(err)\n        setInfoTooltipState({\n          message: 'Что-то пошло не так! Попробуйте ещё раз.',\n          success: false,\n          open: true\n        })\n      })\n  }\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      setToken(jwt)\n      getContent(jwt)\n        .then((res) => {\n          console.log(res)\n          if (res.data.email) {\n            setcurrentUser(res.data)\n            setLoggedIn(true)\n            history.push('/')\n            getCardsState(jwt)\n          }\n        }).catch(err => {\n          localStorage.removeItem('jwt')\n          console.error(err)\n        })\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='page'>\n        <div className=\"page__content\">\n          <Header\n            loggedIn={loggedIn}\n\n            logout={handleLogout}\n          />\n          <Switch>\n            <Route exact path=\"/sign-in\">\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <Route exact path=\"/sign-up\">\n              <Register handleRegister={handleRegister} />\n            </Route>\n            <ProtectedRoute exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n              onCardDislike={handleCardDislike}\n              cards={cards}\n            />\n          </Switch>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isCardPopupOpen}\n            onClose={closeAllPopups}\n          />\n          <InfoTooltip\n            onClose={closeAllPopups}\n            renderState={infoTooltipState}\n          />\n          <Footer />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}