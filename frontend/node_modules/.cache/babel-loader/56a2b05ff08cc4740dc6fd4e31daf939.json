{"ast":null,"code":"export var BASE_URL=\"\".concat(window.location.protocol).concat(process.env.REACT_APP_API_URL||'//localhost:3008');var checkResponse=function checkResponse(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));};var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(checkResponse);};var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(checkResponse);};var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};var getInitialCards=function getInitialCards(token){return fetch(\"\".concat(BASE_URL,\"/cards\"),{method:'GET',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};var postCard=function postCard(token,newCard){return fetch(\"\".concat(BASE_URL,\"/cards\"),{method:'POST',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:newCard.name,link:newCard.link})}).then(checkResponse);};var patchUserInfo=function patchUserInfo(token,newData){return fetch(\"\".concat(BASE_URL,\"/users/me/\"),{method:'PATCH',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:newData.name,about:newData.about})}).then(checkResponse);};var patchAvatar=function patchAvatar(token,newData){return fetch(\"\".concat(BASE_URL,\"/users/me/avatar\"),{method:'PATCH',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({avatar:newData.avatar})}).then(checkResponse);};var putLike=function putLike(token,id){return fetch(\"\".concat(BASE_URL,\"/cards/likes/\").concat(id),{method:'PUT',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};var removeLike=function removeLike(token,id){return fetch(\"\".concat(BASE_URL,\"/cards/likes/\").concat(id),{method:'DELETE',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};var deleteCard=function deleteCard(token,id){return fetch(\"\".concat(BASE_URL,\"/cards/\").concat(id),{method:'DELETE',headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(checkResponse);};export{register,authorize,getContent,getInitialCards,postCard,patchUserInfo,patchAvatar,putLike,removeLike,deleteCard};","map":{"version":3,"sources":["/home/dmitrij/dev/react-mesto-api-full/frontend/src/auth.js"],"names":["BASE_URL","window","location","protocol","process","env","REACT_APP_API_URL","checkResponse","res","ok","json","Promise","reject","status","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","getContent","token","getInitialCards","postCard","newCard","name","link","patchUserInfo","newData","about","patchAvatar","avatar","putLike","id","removeLike","deleteCard"],"mappings":"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","sourcesContent":["export const BASE_URL = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3008'}`;\n\nconst checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n\nconst register = (email, password) => {\n\treturn fetch(`${BASE_URL}/signup`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail, password\n\t\t})\n\t})\n\t\t.then(checkResponse)\n}\n\nconst authorize = (email, password) => {\n\treturn fetch(`${BASE_URL}/signin`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify({ password, email })\n\t})\n\t\t.then(checkResponse)\n}\n\nconst getContent = (token) => {\n\treturn fetch(`${BASE_URL}/users/me`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(checkResponse)\n}\n\nconst getInitialCards = (token) => {\n\treturn fetch(`${BASE_URL}/cards`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t}\n\t}).then(checkResponse)\n}\n\nconst postCard = (token, newCard) => {\n\treturn fetch(`${BASE_URL}/cards`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: newCard.name,\n\t\t\tlink: newCard.link\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst patchUserInfo = (token, newData) => {\n\treturn fetch(`${BASE_URL}/users/me/`, {\n\t\tmethod: 'PATCH',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tname: newData.name,\n\t\t\tabout: newData.about\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst patchAvatar = (token, newData) => {\n\treturn fetch(`${BASE_URL}/users/me/avatar`, {\n\t\tmethod: 'PATCH',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tavatar: newData.avatar\n\t\t})\n\t}).then(checkResponse)\n}\n\nconst putLike = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/likes/${id}`, {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\nconst removeLike = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/likes/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\nconst deleteCard = (token, id) => {\n\treturn fetch(`${BASE_URL}/cards/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"Authorization\": `Bearer ${token}`\n\t\t},\n\t})\n\t\t.then(checkResponse)\n}\n\n\nexport { register, authorize, getContent, getInitialCards, postCard, patchUserInfo, patchAvatar, putLike, removeLike, deleteCard };"]},"metadata":{},"sourceType":"module"}