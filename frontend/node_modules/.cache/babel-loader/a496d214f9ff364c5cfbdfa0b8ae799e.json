{"ast":null,"code":"import _objectWithoutProperties from\"/home/dmitrij/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/home/dmitrij/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import plusButtonPath from\"../images/plus.svg\";import api from'../utils/Api';import Card from'./Card';function Main(props){var onEditAvatar=props.onEditAvatar,onEditProfile=props.onEditProfile,onAddPlace=props.onAddPlace,onCardClick=props.onCardClick;var _React$useState=React.useState('#'),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState('#'),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],getCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(data){setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);}).catch(function(err){return console.log(err);});},[]);React.useEffect(function(){api.getInitialCards().then(function(data){var items=data.map(function(el){return{id:el._id,title:el.name,src:el.link,likes:el.likes.length};});getCards(items);}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(\"section\",{className:\"profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__infos\"},/*#__PURE__*/React.createElement(\"figure\",{className:\"profile__avatar-wrapper\",onClick:onEditAvatar},/*#__PURE__*/React.createElement(\"div\",{style:{backgroundImage:\"url(\".concat(userAvatar,\")\")},className:\"profile__avatar\",src:\"#\",alt:\"\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"profile__description\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__info\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"profile__name\"},userName),/*#__PURE__*/React.createElement(\"button\",{className:\"profile__button profile__button_action_edit hover-button\",type:\"button\",onClick:onEditProfile})),/*#__PURE__*/React.createElement(\"p\",{className:\"profile__profession\"},userDescription))),/*#__PURE__*/React.createElement(\"button\",{className:\"profile__button profile__button_action_add hover-button\",type:\"button\",onClick:onAddPlace},/*#__PURE__*/React.createElement(\"img\",{src:plusButtonPath,alt:\"\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u043E\\u043F\\u043A\\u0438 \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}))),/*#__PURE__*/React.createElement(\"section\",{className:\"photo-grid\"},cards.map(function(_ref){var id=_ref.id,card=_objectWithoutProperties(_ref,[\"id\"]);return/*#__PURE__*/React.createElement(Card,Object.assign({key:id},card,{onCardClick:onCardClick,card:card}));})));}export default Main;","map":{"version":3,"sources":["/home/dmitrij/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","props","onEditAvatar","onEditProfile","onAddPlace","onCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","getCards","useEffect","getUserInfo","then","data","name","about","avatar","catch","err","console","log","getInitialCards","items","map","el","id","_id","title","src","link","likes","length","backgroundImage","plusButtonPath","card"],"mappings":"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","sourcesContent":["import React from 'react';\nimport plusButtonPath from '../images/plus.svg';\nimport api from '../utils/Api'\nimport Card from './Card'\n\nfunction Main(props) {\n\n  const { onEditAvatar, onEditProfile, onAddPlace, onCardClick } = props;\n  const [userName, setUserName] = React.useState('#')\n  const [userDescription, setUserDescription] = React.useState('#')\n  const [userAvatar, setUserAvatar] = React.useState()\n  const [cards, getCards] = React.useState([])\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setUserName(data.name)\n        setUserDescription(data.about)\n        setUserAvatar(data.avatar)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        const items = data.map((el) => ({\n          id: el._id,\n          title: el.name,\n          src: el.link,\n          likes: el.likes.length\n        }))\n\n        getCards(items);\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__infos\">\n          <figure className=\"profile__avatar-wrapper\" onClick={onEditAvatar}>\n            <div style={{ backgroundImage: `url(${userAvatar})` }} className=\"profile__avatar\" src=\"#\" alt=\"изображение аватара\">\n            </div>\n          </figure>\n          <div className=\"profile__description\">\n            <div className='profile__info'>\n              <h1 className=\"profile__name\">{userName}</h1>\n              <button className=\"profile__button profile__button_action_edit hover-button\" type=\"button\" onClick={onEditProfile}></button>\n            </div>\n            <p className=\"profile__profession\">{userDescription}</p>\n          </div>\n        </div>\n        <button className=\"profile__button profile__button_action_add hover-button\" type=\"button\" onClick={onAddPlace}>\n          <img src={plusButtonPath} alt='изображение кнопки добавить' />\n        </button>\n      </section>\n      <section className=\"photo-grid\">\n        {cards.map(({ id, ...card }) => (\n          <Card key={id} {...card} onCardClick={onCardClick} card={card} />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}